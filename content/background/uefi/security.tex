% !TeX root = ../../../thesis.tex

\subsection{Security}

others not discussed further
user identification

PEI
GuidedSection Extraction


\subsubsection{Secure Boot}
% https://edk2-docs.gitbook.io/understanding-the-uefi-secure-boot-chain/secure_boot_chain_in_uefi/uefi_secure_boot

\cite{tianocore-understanding-uefi-secure-boot-chain}

% workings of secure boot
driver signing
executables may be located on un-secured media
system provider can authenticate either origin or integrity

digital signature
data to sign
public/private key pair used to verify integrity

% how it is signed

embedded within PE file
calculating the pe image hash
- hashing the pe header, omitting the file's checksum and the Certificate Table entry in Optional Header Data Directories
- sorting and hasing pe sections
omitting attribute certifacte table and hash remaining data

\cite{microsoft-pe-signature-format}


% key and hash storage

% how, when and where is it verified

guarantees only valid 3rd party firmware code can run in OEM firmware environment
UEFI Secure Boot assumes the system firmware is a trusted entity
any 3rd party firmware code is not trusted
including bootloader/osloader, PCI option ROMs, UEFI shell tool

two parts
verification of the boot image and verification of updates to the image security database
\cite{understanding-uefi-secure-boot-chain}

authenticated variables maybe


\subsubsection{Signed Capsule Update}

% https://eclypsium.com/2019/10/23/protecting-system-firmware-storage/

DXE SMM Ready to Lock Vol4

Capsule Architectural Protocol

provides
CapsuleUpdate()
QueryCapsuleCapabilities()
of the runtime services table

flash device security

\subsubsection{TPM measurements}
% https://tianocore-docs.github.io/edk2-TrustedBootChain/release-1.00/

\cite{tianocore-trusted-boot-chain}

% what is TPM

% TPM protocol

% what is measured

% when is it measured 

% where is it measured 